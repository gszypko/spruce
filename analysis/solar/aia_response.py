#!/usr/bin/env python3

from matplotlib.colors import LinearSegmentedColormap
import numpy as np

FILTERS = {
"094A":
[[32102.57236,224885.7568,275216.4036,313930.6498,358090.7664,429770.7372,497612.9016,567611.3034,\
    628376.1102,760957.8758,855115.2136,894356.7591,965033.1045,1044871.338,1115944.299,1239111.037,\
        1417648.969,1617067.356,1844537.605,1970004.488,2072771.986,2322290.096,2436136.999,2578601.182,\
            2854649.601,3198289.315,3604797.236,3827034.598,4014649.417,4173838.414,4457746.15,4718433.117,\
                4890876.895,5069622.947,5254901.601,5453472.75,5646020.422,5852364.577,6066249.957,6306789.078,\
                    6675607.234,6878306.911,7215505.929,7683293.304,7987951.475,8279885.789,8582489.377,8896152.166,\
                        9057256.497,9276609.724,9501275.358,9731382.058,9967061.599,10208448.95,10455682.33,10708903.35,\
                            10968256.99,11267545.33,11784617.05,12215307.46,12737713.77,13442340.06,13965786.49,15667725.18,\
                                18770850.37,23624631.42,31235555.01],
[0,0.004484305,0.008762756,0.019184714,0.041839853,0.085643254,0.128837964,0.170347643,0.204939042,0.280386892,0.324316484,\
    0.338916133,0.35426009,0.360615184,0.357319351,0.334604827,0.283653032,0.246597182,0.229939864,0.217112839,0.197100304,\
        0.139738709,0.117202338,0.098195626,0.087684592,0.110220962,0.177242169,0.22741009,0.271894926,0.315007983,0.399274412,\
            0.481254543,0.53481925,0.5893638,0.648154332,0.704201306,0.762142641,0.812767822,0.863066388,0.91418149,0.958372373,\
                0.980320839,0.991811715,0.972286133,0.948965888,0.897360865,0.845755843,0.79251775,0.750302881,0.698371245,0.64717449,\
                    0.595487813,0.543556177,0.493584224,0.443612272,0.39364032,0.343423407,0.293451454,0.227475413,0.178156688,0.127858122,\
                        0.088991048,0.061883408,0.024215247,0.009865471,0.006278027,0.006278027],
["#000000","#6AA504","#E0F0B3"]],
"131A":
[[31839.97013,172906.8219,220013.5684,245435.9697,268066.4324,287846.1835,303769.2914,317709.3737,\
    329320.6445,340336.7189,355529.2502,373405.0659,387051.8378,398804.369,406026.4926,418355.1746,\
        431058.2076,445477.4957,463141.5825,484395.3167,510274.5185,538501.9422,570334.3897,610379.6656,\
            639755.6494,679196.8715,718915.9955,747422.4737,770117.3819,795878.5071,820044.7455,847475.9864,\
                873208.9425,899723.2601,932605.2942,958053.0829,1005020.245,1048001.474,1101472.9,1195422.146,\
                    1313143.916,1526812.914,1784833.311,2035902.925,2336224.773,3292939.498,4339339.577,5629157.076,\
                        6054164.953,6624457.101,7816585.941,8816677.814,9581187.103,10613234.66,11391806.45,12251901.03,\
                            13015020.08,14228441.99,15554994.18,17542551.6,20311759.84,25674891.24,29257350.22],
[0.002690583,0.004484305,0.013452915,0.039112414,0.091603961,0.14846747,0.209919907,0.268302171,0.318600738,0.368899304,\
    0.453949607,0.519795003,0.579075456,0.629210716,0.65925921,0.705965022,0.752997447,0.803949242,0.849784083,0.906587713,\
        0.952689288,0.978753091,0.993254756,0.973321966,0.947251164,0.88586405,0.819136796,0.764755554,0.720336041,0.671793025,\
            0.624638119,0.571889947,0.523714372,0.477661788,0.423443853,0.384576779,0.316110305,0.26920036,0.21376356,0.149904572,\
                0.097483014,0.053390115,0.032911413,0.01938959,0.018115795,0.012604183,0.011702283,0.011550853,0.013216584,0.022735051,\
                    0.060453144,0.12687828,0.182533317,0.237600449,0.258954788,0.24413273,0.217807636,0.162887481,0.108457246,0.057799405,\
                        0.030230208,0.008241163,0.008154066],
["#000000","#37AAAA","#62FFFF"]],
"171A":
[[31839.97013,65481.28366,111206.5308,170538.3035,266308.1542,305592.0295,337296.2987,384743.2234,\
    412619.1723,448150.5403,488761.7011,508142.0944,523571.4381,541085.3777,557515.0188,572727.8045,\
        586598.4166,600804.9542,611685.1953,649395.8613,665123.2592,681231.5513,716768.761,747422.4737,\
            770117.3819,807871.2694,889022.2672,932605.2942,975402.8873,1011050.772,1035536.912,1057448.256,\
                1083058.074,1105974.938,1153963.798,1231720.219,1254025.982,1311573.687,1351398.612,1379993.402,\
                    1421895.84,1478276.896,1541497.669,1631643.751,1838242.716,2127209.192,2790856.821,3415839.442,31235555.01],
[0.002690583,0.00441582,0.007433594,0.015532575,0.044081614,0.04261185,0.042849388,0.059120707,\
    0.093553595,0.135860167,0.219963289,0.264546109,0.307904127,0.353613766,0.397118759,0.442142509,\
        0.485745487,0.529348465,0.568297192,0.665791491,0.709394469,0.752997447,0.827710415,0.889522128,\
            0.929565012,0.97237323,0.994038629,0.954257036,0.91140527,0.866414182,0.820606559,0.778146731,\
                0.732747375,0.689797625,0.597631801,0.46051455,0.418626296,0.360080724,0.299206602,0.242989581,\
                    0.196936997,0.15450983,0.110808868,0.06906759,0.029174014,0.020402094,0.009351651,0.004308928,0.002690583],
["#000000","#DA9700","#FFFEF1"]],
"193A":
[[31839.97013,60424.4689,89626.73468,112862.3953,131856.4217,153128.1916,175716.5679,203150.5319,\
    226296.3451,264192.3623,276867.8129,319615.758,372289.792,432349.5348,519411.7149,600804.9542,\
        758685.0721,874515.9067,921513.2139,1008030.999,1044871.338,1089556.859,1180699.57,1222543.658,\
            1255276.968,1290172.467,1324716.522,1361542.374,1396604.122,1459239.087,1550747.276,1607422.175,\
                1696341.737,1758337.652,1790180.162,1828059.308,1861164.438,1923422.077,1952405.325,1981825.308,\
                    2023759.552,2078981.419,2129331.244,2315353.957,2405722.792,2496629.754,2778824.45,3347562.366,\
                        3570456.891,4671336.378,6142528.861,7902068.403,9676789.018,12929653.08,13850506.37,17961435.35,\
                            19221478.62,25344240.28,31235555.01],
[0.002690583,0.004484305,0.015246637,0.022480547,0.029517595,0.04261185,0.066038987,0.108751199,\
    0.148994718,0.187301882,0.189914795,0.161261833,0.149120698,0.166439409,0.196120462,0.21604392,\
        0.247496855,0.287939842,0.318927352,0.390782446,0.439121328,0.498238475,0.65487325,0.71963382,\
            0.771091867,0.823301126,0.871362386,0.92324503,0.970522417,0.995018472,0.995463854,0.959989113,\
                0.810808137,0.755675683,0.703352109,0.636559532,0.582994825,0.472501286,0.427297899,0.375496908,\
                    0.329215695,0.274638484,0.226887507,0.104341909,0.075142612,0.050842525,0.022770046,0.012359222,\
                        0.011452868,0.011659193,0.011659193,0.006278027,0.004484305,0.01678321,0.023015006,0.03531747,\
                            0.034627951,0.024582754,0.017040359],
["#000000","#9E6426","#FEFBE0"]],
"211A":
[[32014.79851,39420.25068,53860.73739,72058.90526,82195.31489,95598.36618,109536.4066,127359.6886,\
    145598.3392,169231.5974,192674.5239,221449.4949,242803.8943,264380.5868,307425.7049,364939.2814,\
        458266.0845,545962.7716,633092.7774,723538.8974,851105.1647,970828.7513,1132760,1210535.199,\
            1335325.551,1413414.782,1454880.68,1494281.665,1529250.623,1574114.842,1636531.69,1732235.318,\
                1802718.521,1940759.983,2002682.676,2035902.925,2078981.419,2129331.244,2233718.62,2278709.59,\
                    2329247.014,2376162.092,2421606.385,2472846.134,2547932.204,2656898.423,2753999.641,2906345.706,\
                        3179212.757,3714254.13,4391571.387,4853868.323,7359108.534,10562852.44,31064981.97],
[0.002690583,0.002690583,0.006278027,0.02379888,0.034633135,0.044571535,0.053950024,0.069655495,\
    0.090064208,0.119599452,0.144711408,0.167378424,0.17309417,0.164952148,0.129719822,0.100749154,\
        0.101345291,0.112833875,0.129082925,0.148434808,0.170971179,0.188048429,0.231231474,0.274834452,\
            0.392415517,0.47839667,0.540110398,0.606804991,0.659803567,0.731489911,0.812767822,0.944654582,\
                0.991425717,0.96154053,0.932406555,0.889195514,0.827465455,0.758664202,0.622896177,0.572924225,\
                    0.511760297,0.458783495,0.410052676,0.350282302,0.293614761,0.231721396,0.176686925,0.124591981,\
                        0.067527838,0.030363823,0.019095638,0.017040359,0.006278027,0.002690583,0.002690583],
["#000000","#793A54","#FCEAEA"]],
"335A":
[[31666.09646,39853.85565,45824.10099,50932.46397,54559.88746,59504.0751,64124.4485,68077.74945,\
    72274.77316,76960.40806,83433.8819,91814.8493,102867.4242,114220.8986,125319.0144,136267.1387,\
        148171.7133,162083.0585,182138.4516,217944.6846,230000.9734,246381.7032,259234.4818,270321.041,\
            281881.7338,292183.618,301055.5487,312058.175,329320.6445,354279.4948,377899.6721,436246.7737,\
                488761.7011,554189.6575,663136.6911,729749.0417,765523.9298,905121.9623,1029360.335,1149852.391,\
                    1311345.117,1532303.232,1612237.553,1800921.964,2011688.61,2182138.356,2304988.573,2487684.208,\
                        2609639.317,2787149.014,3030640.026,3265963.213,3498565.972,3758961.904,4075144.5,4484494.424,\
                            4832706.521,5318153.858,5976197.128,6837280.472,7902068.403,8843090.062,9907611.934,11001114.76,\
                                12929653.08,15497073.85,18164155.87,22861057.39,31064981.97],
[0.013452915,0.025865456,0.048490904,0.079257949,0.112303127,0.171559084,0.235640764,0.300065389,\
    0.363510172,0.42847371,0.493502571,0.553722039,0.61190017,0.670130793,0.729317928,0.790884679,\
        0.853431273,0.915283812,0.971235029,0.997868922,0.985500005,0.950598958,0.885602759,0.817667033,\
            0.750057921,0.677549598,0.617779223,0.547557199,0.484128747,0.415246637,0.415713987,0.457365057,\
                0.513775973,0.569626978,0.615819539,0.62668688,0.628165551,0.603437897,0.557910865,0.513901345,\
                    0.460089686,0.402837475,0.400907483,0.45610526,0.5893638,0.684304933,0.727031629,0.746494858,\
                        0.735752225,0.704145315,0.640707531,0.57613593,0.515091761,0.453361702,0.38784292,0.314354755,\
                            0.263356301,0.204705746,0.1447604,0.093207339,0.061883408,0.060528965,0.071205427,0.079355933,\
                                0.067597827,0.034977578,0.015246637,0.006278027,0.004484305],
["#000000","#184885","#EEFAFF"]]
}

def is_filter(s):
    return s in FILTERS.keys()

def filter_names():
    return FILTERS.keys()

def response(filter, temperature):
    assert filter in FILTERS.keys()
    temps = FILTERS[filter][0]
    resp = FILTERS[filter][1]
    return np.interp(temperature,temps,resp)


def colormap(filter):
    assert filter in FILTERS.keys()
    colors = FILTERS[filter][2]
    values = np.linspace(0.0,1.0,len(colors))
    cmap_list = []
    i = 0
    for color in colors:
        cmap_list.append((values[i],color))
        i += 1
    return LinearSegmentedColormap.from_list(filter,cmap_list)
